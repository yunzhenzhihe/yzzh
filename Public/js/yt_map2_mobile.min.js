	
var	map= null,
	layer= null; //实时交通

var YTmap_mobile_init = function() {	
	  var center = new qq.maps.LatLng($("#city_lat").val(),$("#city_lng").val());  //这个坐标点 在登录的时候,设置在cook里面的,  HYBRID
	  var myOptions = {
		  zoom: parseInt($("#city_zoomLevel").val()),   //12
		  center: center,
		  mapTypeId: qq.maps.MapTypeId.ROADMAP,
		  disableDefaultUI: true
	  }
	  map = new qq.maps.Map(document.getElementById("map"), myOptions);	

	 //实时路况图层
     layer = new qq.maps.TrafficLayer();
}

function YTmap_addCustomerMarker(lat,lng){  //标记客户地址
	var latLng=new qq.maps.LatLng(lat,lng) ;
	var marker = new qq.maps.Marker({
			position: latLng,
			map: map
	});		
	map.panTo( latLng )  ;  //地图移到标记点为中心	
}	

function YTmap_moveToCenter(lat,lng){  //把标注点移动到中心点
   var latLng=new qq.maps.LatLng(lat,lng) ;
	map.panTo( latLng )  ;  //地图移到标记点为中心	  
}

function YTmap_changeMapType(){	//改变地图的类别
	if ( map.getMapTypeId() == 'hybrid' ) {
		 map.setMapTypeId(qq.maps.MapTypeId.SATELLITE); //卫星地图
	}			
	else{   
		 map.setMapTypeId(qq.maps.MapTypeId.HYBRID);  //卫星地图(路网)					 
	}	
}

function YTmap_changeMap(){   //改变地图的类别  别的地址转普通地图
	map.setMapTypeId(qq.maps.MapTypeId.ROADMAP);  //普通地图
}	

function YTmap_changeLayer(){  //实时交通
	if ( layer.getMap() == null ) {
		 layer.setMap(map); //加载这个图层
	}else{        			
		layer.setMap(null);  //删除这个图层
	}
}

function YTmap_resize(v_height){  //修改地图的高度来适应窗口的大小  高度    初始 v_height=-135  高差
	var height= $(window).height()+v_height ;
		$( "#map" ).css("height", height);	 //调整地图的高度
}	
	

		